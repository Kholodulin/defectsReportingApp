<div class="card">
  <app-table-template [objects]="objects" [isEdit]="true" (objectToDelete)="deleteObject($event)" (objectToEdit)="editObject($event)">
  </app-table-template>

  <p-button (click)="showAddDialog()" label="Add new object"></p-button>
  <p-dialog header="Add new object" [modal]="true" [(visible)]="addDialogvisible" [style]="{ width: '30rem', height: '36rem' }">
    <div class="p-dialog-content flex flex-column h-full">
      <span class="p-text-secondary block mb-5">Fill in information.</span>
      <div class="flex flex-column">
        <div class="flex align-items-center gap-3 mb-3">
          <label for="name" class="font-semibold w-6rem">Object name</label>
          <input pInputText id="name" [(ngModel)]="editingObject.name" autocomplete="off" />
          <div *ngIf="!editingObject.name && showValidationErrors" class="error">Object name is required.</div>
        </div>
        <div class="flex align-items-center mb-5">
          <label for="registrationDate" class="font-semibold w-8rem ">Registration date</label>
          <p-calendar
            [(ngModel)]="editingObject.registrationDate"
            [showIcon]="true"
            inputId="buttondisplay"
            [showOnFocus]="false"
            appendTo="body"
            class="custom-calendar">
          </p-calendar>
          <div *ngIf="!editingObject.registrationDate && showValidationErrors" class="error">Registration date is required.</div>
        </div>
        <div class="flex align-items-center gap-3 mb-5">
          <label for="address" class="font-semibold w-6rem">Address</label>
          <textarea pInputTextarea id="address" required class="input-field"
            [(ngModel)]="editingObject.address"
            [autoResize]="true"
            rows="3">
          </textarea>
        </div>
      </div>
      <div class="flex justify-content-end gap-2 mt-auto">
        <p-button label="Cancel" severity="secondary" (click)="addDialogvisible = false"></p-button>
        <p-button label="Save new object" severity="info" (click)="onSaveNewObjectClick()"></p-button>
      </div>
    </div>
  </p-dialog>
  <p-dialog header="Editing object" [modal]="true" [(visible)]="editDialogVisible" [style]="{ width: '30rem', height: '36rem' }">
    <div class="p-dialog-content flex flex-column h-full">
        <span class="p-text-secondary block mb-5">Ð¡hange data.</span>
        <div class="flex flex-column">
          <div class="flex align-items-center gap-3 mb-3">
            <label for="name" class="font-semibold w-6rem">Object name</label>
            <input pInputText id="name" [(ngModel)]="editingObject.name" autocomplete="off"  />
            <div *ngIf="!editingObject.name && showValidationErrors" class="error">Object name is required.</div>
          </div>
          <div class="flex align-items-center mb-5">
            <label for="registrationDate" class="font-semibold w-8rem ">Registration date</label>
            <p-calendar
              [(ngModel)]="editingObject.registrationDate"
              [showIcon]="true"
              inputId="buttondisplay"
              [showOnFocus]="false"
              appendTo="body"
              class="custom-calendar">
            </p-calendar>
            <div *ngIf="!editingObject.registrationDate && showValidationErrors" class="error">Registration date is required.</div>
          </div>
          <div class="flex align-items-center gap-3 mb-5">
            <label for="address" class="font-semibold w-6rem">Address</label>
            <textarea pInputTextarea id="address" required class="input-field"
              [(ngModel)]="editingObject.address"
              [autoResize]="true"
              rows="3">
            </textarea>
            <div *ngIf="!editingObject.address && showValidationErrors" class="error">Address is required.</div>
          </div>
        </div>
      <div class="flex justify-content-end gap-2 mt-auto">
        <p-button label="Cancel" severity="secondary" (click)="editDialogVisible = false"></p-button>
        <p-button label="Save changes" severity="info" (click)="onSaveChangesClick()"></p-button>
      </div>
    </div>
  </p-dialog>
</div>
